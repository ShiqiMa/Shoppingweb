function ProductsCategory(){}ProductsCategory.prototype.run=function(){var t=this;t.listenAddCategoryEvent(),t.listenEditCategoryEvent(),t.listenDeleteCategoryEvent()},ProductsCategory.prototype.listenAddCategoryEvent=function(){$("#add-btn").click(function(){xfzalert.alertOneInput({title:"添加新闻分类",placeholder:"请输入新闻分类",confirmCallback:function(t){xfzajax.post({url:"/admin/add_products_category/",data:{name:t},success:function(t){200===t.code?(console.log(t),window.location.reload()):xfzalert.close()}})}})})},ProductsCategory.prototype.listenEditCategoryEvent=function(){$(".edit-btn").click(function(){var t=$(this).parent().parent(),e=t.attr("data-pk"),o=t.attr("data-name");xfzalert.alertOneInput({title:"修改分类名称",placeholder:"请输入新的分类名称",value:o,confirmCallback:function(t){xfzajax.post({url:"/admin/edit_products_category/",data:{pk:e,name:t},success:function(t){200===t.code?window.location.reload():xfzalert.close()}})}})})},ProductsCategory.prototype.listenDeleteCategoryEvent=function(){$(".delete-btn").click(function(){var t=$(this).parent().parent().attr("data-pk");xfzalert.alertConfirm({title:"您确定要删除这个分类吗？",confirmCallback:function(){xfzajax.post({url:"/admin/delete_products_category/",data:{pk:t},success:function(t){200===t.code?window.location.reload():xfzalert.close()}})}})})},$(function(){(new ProductsCategory).run()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb2R1Y3RzX2NhdGVnb3J5LmpzIl0sIm5hbWVzIjpbIlByb2R1Y3RzQ2F0ZWdvcnkiLCJwcm90b3R5cGUiLCJydW4iLCJzZWxmIiwidGhpcyIsImxpc3RlbkFkZENhdGVnb3J5RXZlbnQiLCJsaXN0ZW5FZGl0Q2F0ZWdvcnlFdmVudCIsImxpc3RlbkRlbGV0ZUNhdGVnb3J5RXZlbnQiLCIkIiwiY2xpY2siLCJ4ZnphbGVydCIsImFsZXJ0T25lSW5wdXQiLCJ0aXRsZSIsInBsYWNlaG9sZGVyIiwiY29uZmlybUNhbGxiYWNrIiwiaW5wdXRWYWx1ZSIsInhmemFqYXgiLCJwb3N0IiwidXJsIiwiZGF0YSIsIm5hbWUiLCJzdWNjZXNzIiwicmVzdWx0IiwiY29uc29sZSIsImxvZyIsIndpbmRvdyIsImxvY2F0aW9uIiwicmVsb2FkIiwiY2xvc2UiLCJ0ciIsInBhcmVudCIsInBrIiwiYXR0ciIsInZhbHVlIiwiYWxlcnRDb25maXJtIl0sIm1hcHBpbmdzIjoiQUFBQSxTQUFTQSxvQkFJVEEsaUJBQWlCQyxVQUFVQyxJQUFNLFdBQzdCLElBQUlDLEVBQU9DLEtBQ1hELEVBQUtFLHlCQUNMRixFQUFLRywwQkFDTEgsRUFBS0ksNkJBR1RQLGlCQUFpQkMsVUFBVUksdUJBQXlCLFdBQ25DRyxFQUFFLFlBQ1JDLE1BQU0sV0FDVEMsU0FBU0MsY0FBYyxDQUNuQkMsTUFBUyxTQUNUQyxZQUFlLFVBQ2ZDLGdCQUFtQixTQUFVQyxHQUN6QkMsUUFBUUMsS0FBSyxDQUNUQyxJQUFPLGdDQUNQQyxLQUFRLENBQ0pDLEtBQVFMLEdBRVpNLFFBQVcsU0FBVUMsR0FDSyxNQUFuQkEsRUFBYSxNQUNaQyxRQUFRQyxJQUFJRixHQUNaRyxPQUFPQyxTQUFTQyxVQUVoQmpCLFNBQVNrQixpQkFTckM1QixpQkFBaUJDLFVBQVVLLHdCQUEwQixXQUVuQ0UsRUFBRSxhQUNSQyxNQUFNLFdBQ1YsSUFDSW9CLEVBRGFyQixFQUFFSixNQUNDMEIsU0FBU0EsU0FDekJDLEVBQUtGLEVBQUdHLEtBQUssV0FDYlosRUFBT1MsRUFBR0csS0FBSyxhQUNuQnRCLFNBQVNDLGNBQWMsQ0FDbkJDLE1BQVMsU0FDVEMsWUFBZSxZQUNmb0IsTUFBU2IsRUFDVE4sZ0JBQW1CLFNBQVVDLEdBQ3pCQyxRQUFRQyxLQUFLLENBQ1RDLElBQU8saUNBQ1BDLEtBQVEsQ0FDSlksR0FBTUEsRUFDTlgsS0FBUUwsR0FFWk0sUUFBVyxTQUFVQyxHQUNLLE1BQW5CQSxFQUFhLEtBQ1pHLE9BQU9DLFNBQVNDLFNBRWhCakIsU0FBU2tCLGlCQVVyQzVCLGlCQUFpQkMsVUFBVU0sMEJBQTRCLFdBQ25DQyxFQUFFLGVBQ1JDLE1BQU0sV0FDWixJQUVJc0IsRUFGYXZCLEVBQUVKLE1BQ0MwQixTQUFTQSxTQUNqQkUsS0FBSyxXQUNqQnRCLFNBQVN3QixhQUFhLENBQ2xCdEIsTUFBUyxlQUNURSxnQkFBbUIsV0FDZkUsUUFBUUMsS0FBSyxDQUNUQyxJQUFPLG1DQUNQQyxLQUFRLENBQ0pZLEdBQU1BLEdBRVZWLFFBQVcsU0FBVUMsR0FDSyxNQUFuQkEsRUFBYSxLQUNaRyxPQUFPQyxTQUFTQyxTQUVoQmpCLFNBQVNrQixpQkFTckNwQixFQUFFLFlBQ2lCLElBQUlSLGtCQUNWRSIsImZpbGUiOiJwcm9kdWN0c19jYXRlZ29yeS5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJmdW5jdGlvbiBQcm9kdWN0c0NhdGVnb3J5KCkge1xuXG59O1xuXG5Qcm9kdWN0c0NhdGVnb3J5LnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHNlbGYubGlzdGVuQWRkQ2F0ZWdvcnlFdmVudCgpO1xuICAgIHNlbGYubGlzdGVuRWRpdENhdGVnb3J5RXZlbnQoKTtcbiAgICBzZWxmLmxpc3RlbkRlbGV0ZUNhdGVnb3J5RXZlbnQoKTtcbn07XG5cblByb2R1Y3RzQ2F0ZWdvcnkucHJvdG90eXBlLmxpc3RlbkFkZENhdGVnb3J5RXZlbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGFkZEJ0biA9ICQoJyNhZGQtYnRuJyk7XG4gICAgYWRkQnRuLmNsaWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgeGZ6YWxlcnQuYWxlcnRPbmVJbnB1dCh7XG4gICAgICAgICAgICAndGl0bGUnOiAn5re75Yqg5paw6Ze75YiG57G7JyxcbiAgICAgICAgICAgICdwbGFjZWhvbGRlcic6ICfor7fovpPlhaXmlrDpl7vliIbnsbsnLFxuICAgICAgICAgICAgJ2NvbmZpcm1DYWxsYmFjayc6IGZ1bmN0aW9uIChpbnB1dFZhbHVlKSB7XG4gICAgICAgICAgICAgICAgeGZ6YWpheC5wb3N0KHtcbiAgICAgICAgICAgICAgICAgICAgJ3VybCc6ICcvYWRtaW4vYWRkX3Byb2R1Y3RzX2NhdGVnb3J5LycsXG4gICAgICAgICAgICAgICAgICAgICdkYXRhJzoge1xuICAgICAgICAgICAgICAgICAgICAgICAgJ25hbWUnOiBpbnB1dFZhbHVlXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICdzdWNjZXNzJzogZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYocmVzdWx0Wydjb2RlJ10gPT09IDIwMCl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzdWx0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB4ZnphbGVydC5jbG9zZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0pO1xufTtcblxuUHJvZHVjdHNDYXRlZ29yeS5wcm90b3R5cGUubGlzdGVuRWRpdENhdGVnb3J5RXZlbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHZhciBlZGl0QnRuID0gJChcIi5lZGl0LWJ0blwiKTtcbiAgICBlZGl0QnRuLmNsaWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGN1cnJlbnRCdG4gPSAkKHRoaXMpO1xuICAgICAgICB2YXIgdHIgPSBjdXJyZW50QnRuLnBhcmVudCgpLnBhcmVudCgpO1xuICAgICAgICB2YXIgcGsgPSB0ci5hdHRyKCdkYXRhLXBrJyk7XG4gICAgICAgIHZhciBuYW1lID0gdHIuYXR0cignZGF0YS1uYW1lJyk7XG4gICAgICAgIHhmemFsZXJ0LmFsZXJ0T25lSW5wdXQoe1xuICAgICAgICAgICAgJ3RpdGxlJzogJ+S/ruaUueWIhuexu+WQjeensCcsXG4gICAgICAgICAgICAncGxhY2Vob2xkZXInOiAn6K+36L6T5YWl5paw55qE5YiG57G75ZCN56ewJyxcbiAgICAgICAgICAgICd2YWx1ZSc6IG5hbWUsXG4gICAgICAgICAgICAnY29uZmlybUNhbGxiYWNrJzogZnVuY3Rpb24gKGlucHV0VmFsdWUpIHtcbiAgICAgICAgICAgICAgICB4ZnphamF4LnBvc3Qoe1xuICAgICAgICAgICAgICAgICAgICAndXJsJzogJy9hZG1pbi9lZGl0X3Byb2R1Y3RzX2NhdGVnb3J5LycsXG4gICAgICAgICAgICAgICAgICAgICdkYXRhJzoge1xuICAgICAgICAgICAgICAgICAgICAgICAgJ3BrJzogcGssXG4gICAgICAgICAgICAgICAgICAgICAgICAnbmFtZSc6IGlucHV0VmFsdWVcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgJ3N1Y2Nlc3MnOiBmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZihyZXN1bHRbJ2NvZGUnXSA9PT0gMjAwKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB4ZnphbGVydC5jbG9zZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0pO1xufTtcblxuXG5Qcm9kdWN0c0NhdGVnb3J5LnByb3RvdHlwZS5saXN0ZW5EZWxldGVDYXRlZ29yeUV2ZW50ID0gZnVuY3Rpb24gKCkge1xuICAgIHZhciBkZWxldGVCdG4gPSAkKFwiLmRlbGV0ZS1idG5cIik7XG4gICAgZGVsZXRlQnRuLmNsaWNrKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGN1cnJlbnRCdG4gPSAkKHRoaXMpO1xuICAgICAgICB2YXIgdHIgPSBjdXJyZW50QnRuLnBhcmVudCgpLnBhcmVudCgpO1xuICAgICAgICB2YXIgcGsgPSB0ci5hdHRyKCdkYXRhLXBrJyk7XG4gICAgICAgIHhmemFsZXJ0LmFsZXJ0Q29uZmlybSh7XG4gICAgICAgICAgICAndGl0bGUnOiAn5oKo56Gu5a6a6KaB5Yig6Zmk6L+Z5Liq5YiG57G75ZCX77yfJyxcbiAgICAgICAgICAgICdjb25maXJtQ2FsbGJhY2snOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgeGZ6YWpheC5wb3N0KHtcbiAgICAgICAgICAgICAgICAgICAgJ3VybCc6ICcvYWRtaW4vZGVsZXRlX3Byb2R1Y3RzX2NhdGVnb3J5LycsXG4gICAgICAgICAgICAgICAgICAgICdkYXRhJzoge1xuICAgICAgICAgICAgICAgICAgICAgICAgJ3BrJzogcGtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgJ3N1Y2Nlc3MnOiBmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZihyZXN1bHRbJ2NvZGUnXSA9PT0gMjAwKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVsb2FkKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB4ZnphbGVydC5jbG9zZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0pO1xufTtcblxuJChmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGNhdGVnb3J5ID0gbmV3IFByb2R1Y3RzQ2F0ZWdvcnkoKTtcbiAgICBjYXRlZ29yeS5ydW4oKTtcbn0pO1xuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuIl19
