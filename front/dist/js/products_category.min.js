function ProductsCategory(){}ProductsCategory.prototype.run=function(){var t=this;t.listenAddCategoryEvent(),t.listenEditCategoryEvent(),t.listenDeleteCategoryEvent()},ProductsCategory.prototype.listenAddCategoryEvent=function(){$("#add-btn").click(function(){shoppingweb_alert.alertOneInput({title:"添加新闻分类",placeholder:"请输入新闻分类",confirmCallback:function(t){shoppingweb_ajax.post({url:"/admin/add_products_category/",data:{name:t},success:function(t){200===t.code?(console.log(t),window.location.reload()):xfzalert.close()}})}})})},ProductsCategory.prototype.listenEditCategoryEvent=function(){$(".edit-btn").click(function(){var t=$(this).parent().parent(),e=t.attr("data-pk"),o=t.attr("data-name");shoppingweb_alert.alertOneInput({title:"修改分类名称",placeholder:"请输入新的分类名称",value:o,confirmCallback:function(t){shoppingweb_ajax.post({url:"/admin/edit_products_category/",data:{pk:e,name:t},success:function(t){200===t.code?window.location.reload():xfzalert.close()}})}})})},ProductsCategory.prototype.listenDeleteCategoryEvent=function(){$(".delete-btn").click(function(){var t=$(this).parent().parent().attr("data-pk");shoppingweb_alert.alertConfirm({title:"您确定要删除这个分类吗？",confirmCallback:function(){shoppingweb_ajax.post({url:"/admin/delete_products_category/",data:{pk:t},success:function(t){200===t.code?window.location.reload():xfzalert.close()}})}})})},$(function(){(new ProductsCategory).run()});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb2R1Y3RzX2NhdGVnb3J5LmpzIl0sIm5hbWVzIjpbIlByb2R1Y3RzQ2F0ZWdvcnkiLCJwcm90b3R5cGUiLCJydW4iLCJzZWxmIiwidGhpcyIsImxpc3RlbkFkZENhdGVnb3J5RXZlbnQiLCJsaXN0ZW5FZGl0Q2F0ZWdvcnlFdmVudCIsImxpc3RlbkRlbGV0ZUNhdGVnb3J5RXZlbnQiLCIkIiwiY2xpY2siLCJzaG9wcGluZ3dlYl9hbGVydCIsImFsZXJ0T25lSW5wdXQiLCJ0aXRsZSIsInBsYWNlaG9sZGVyIiwiY29uZmlybUNhbGxiYWNrIiwiaW5wdXRWYWx1ZSIsInNob3BwaW5nd2ViX2FqYXgiLCJwb3N0IiwidXJsIiwiZGF0YSIsIm5hbWUiLCJzdWNjZXNzIiwicmVzdWx0IiwiY29uc29sZSIsImxvZyIsIndpbmRvdyIsImxvY2F0aW9uIiwicmVsb2FkIiwieGZ6YWxlcnQiLCJjbG9zZSIsInRyIiwicGFyZW50IiwicGsiLCJhdHRyIiwidmFsdWUiLCJhbGVydENvbmZpcm0iXSwibWFwcGluZ3MiOiJBQUFBLFNBQVNBLG9CQUlUQSxpQkFBaUJDLFVBQVVDLElBQU0sV0FDN0IsSUFBSUMsRUFBT0MsS0FDWEQsRUFBS0UseUJBQ0xGLEVBQUtHLDBCQUNMSCxFQUFLSSw2QkFHVFAsaUJBQWlCQyxVQUFVSSx1QkFBeUIsV0FDbkNHLEVBQUUsWUFDUkMsTUFBTSxXQUNUQyxrQkFBa0JDLGNBQWMsQ0FDNUJDLE1BQVMsU0FDVEMsWUFBZSxVQUNmQyxnQkFBbUIsU0FBVUMsR0FDekJDLGlCQUFpQkMsS0FBSyxDQUNsQkMsSUFBTyxnQ0FDUEMsS0FBUSxDQUNKQyxLQUFRTCxHQUVaTSxRQUFXLFNBQVVDLEdBQ0ssTUFBbkJBLEVBQWEsTUFDWkMsUUFBUUMsSUFBSUYsR0FDWkcsT0FBT0MsU0FBU0MsVUFFaEJDLFNBQVNDLGlCQVNyQzdCLGlCQUFpQkMsVUFBVUssd0JBQTBCLFdBRW5DRSxFQUFFLGFBQ1JDLE1BQU0sV0FDVixJQUNJcUIsRUFEYXRCLEVBQUVKLE1BQ0MyQixTQUFTQSxTQUN6QkMsRUFBS0YsRUFBR0csS0FBSyxXQUNiYixFQUFPVSxFQUFHRyxLQUFLLGFBQ25CdkIsa0JBQWtCQyxjQUFjLENBQzVCQyxNQUFTLFNBQ1RDLFlBQWUsWUFDZnFCLE1BQVNkLEVBQ1ROLGdCQUFtQixTQUFVQyxHQUN6QkMsaUJBQWlCQyxLQUFLLENBQ2xCQyxJQUFPLGlDQUNQQyxLQUFRLENBQ0phLEdBQU1BLEVBQ05aLEtBQVFMLEdBRVpNLFFBQVcsU0FBVUMsR0FDSyxNQUFuQkEsRUFBYSxLQUNaRyxPQUFPQyxTQUFTQyxTQUVoQkMsU0FBU0MsaUJBVXJDN0IsaUJBQWlCQyxVQUFVTSwwQkFBNEIsV0FDbkNDLEVBQUUsZUFDUkMsTUFBTSxXQUNaLElBRUl1QixFQUZheEIsRUFBRUosTUFDQzJCLFNBQVNBLFNBQ2pCRSxLQUFLLFdBQ2pCdkIsa0JBQWtCeUIsYUFBYSxDQUMzQnZCLE1BQVMsZUFDVEUsZ0JBQW1CLFdBQ2ZFLGlCQUFpQkMsS0FBSyxDQUNsQkMsSUFBTyxtQ0FDUEMsS0FBUSxDQUNKYSxHQUFNQSxHQUVWWCxRQUFXLFNBQVVDLEdBQ0ssTUFBbkJBLEVBQWEsS0FDWkcsT0FBT0MsU0FBU0MsU0FFaEJDLFNBQVNDLGlCQVNyQ3JCLEVBQUUsWUFDaUIsSUFBSVIsa0JBQ1ZFIiwiZmlsZSI6InByb2R1Y3RzX2NhdGVnb3J5Lm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImZ1bmN0aW9uIFByb2R1Y3RzQ2F0ZWdvcnkoKSB7XG5cbn07XG5cblByb2R1Y3RzQ2F0ZWdvcnkucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgc2VsZi5saXN0ZW5BZGRDYXRlZ29yeUV2ZW50KCk7XG4gICAgc2VsZi5saXN0ZW5FZGl0Q2F0ZWdvcnlFdmVudCgpO1xuICAgIHNlbGYubGlzdGVuRGVsZXRlQ2F0ZWdvcnlFdmVudCgpO1xufTtcblxuUHJvZHVjdHNDYXRlZ29yeS5wcm90b3R5cGUubGlzdGVuQWRkQ2F0ZWdvcnlFdmVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgYWRkQnRuID0gJCgnI2FkZC1idG4nKTtcbiAgICBhZGRCdG4uY2xpY2soZnVuY3Rpb24gKCkge1xuICAgICAgICBzaG9wcGluZ3dlYl9hbGVydC5hbGVydE9uZUlucHV0KHtcbiAgICAgICAgICAgICd0aXRsZSc6ICfmt7vliqDmlrDpl7vliIbnsbsnLFxuICAgICAgICAgICAgJ3BsYWNlaG9sZGVyJzogJ+ivt+i+k+WFpeaWsOmXu+WIhuexuycsXG4gICAgICAgICAgICAnY29uZmlybUNhbGxiYWNrJzogZnVuY3Rpb24gKGlucHV0VmFsdWUpIHtcbiAgICAgICAgICAgICAgICBzaG9wcGluZ3dlYl9hamF4LnBvc3Qoe1xuICAgICAgICAgICAgICAgICAgICAndXJsJzogJy9hZG1pbi9hZGRfcHJvZHVjdHNfY2F0ZWdvcnkvJyxcbiAgICAgICAgICAgICAgICAgICAgJ2RhdGEnOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAnbmFtZSc6IGlucHV0VmFsdWVcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgJ3N1Y2Nlc3MnOiBmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZihyZXN1bHRbJ2NvZGUnXSA9PT0gMjAwKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXN1bHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHhmemFsZXJ0LmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSk7XG59O1xuXG5Qcm9kdWN0c0NhdGVnb3J5LnByb3RvdHlwZS5saXN0ZW5FZGl0Q2F0ZWdvcnlFdmVudCA9IGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgdmFyIGVkaXRCdG4gPSAkKFwiLmVkaXQtYnRuXCIpO1xuICAgIGVkaXRCdG4uY2xpY2soZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgY3VycmVudEJ0biA9ICQodGhpcyk7XG4gICAgICAgIHZhciB0ciA9IGN1cnJlbnRCdG4ucGFyZW50KCkucGFyZW50KCk7XG4gICAgICAgIHZhciBwayA9IHRyLmF0dHIoJ2RhdGEtcGsnKTtcbiAgICAgICAgdmFyIG5hbWUgPSB0ci5hdHRyKCdkYXRhLW5hbWUnKTtcbiAgICAgICAgc2hvcHBpbmd3ZWJfYWxlcnQuYWxlcnRPbmVJbnB1dCh7XG4gICAgICAgICAgICAndGl0bGUnOiAn5L+u5pS55YiG57G75ZCN56ewJyxcbiAgICAgICAgICAgICdwbGFjZWhvbGRlcic6ICfor7fovpPlhaXmlrDnmoTliIbnsbvlkI3np7AnLFxuICAgICAgICAgICAgJ3ZhbHVlJzogbmFtZSxcbiAgICAgICAgICAgICdjb25maXJtQ2FsbGJhY2snOiBmdW5jdGlvbiAoaW5wdXRWYWx1ZSkge1xuICAgICAgICAgICAgICAgIHNob3BwaW5nd2ViX2FqYXgucG9zdCh7XG4gICAgICAgICAgICAgICAgICAgICd1cmwnOiAnL2FkbWluL2VkaXRfcHJvZHVjdHNfY2F0ZWdvcnkvJyxcbiAgICAgICAgICAgICAgICAgICAgJ2RhdGEnOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAncGsnOiBwayxcbiAgICAgICAgICAgICAgICAgICAgICAgICduYW1lJzogaW5wdXRWYWx1ZVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAnc3VjY2Vzcyc6IGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKHJlc3VsdFsnY29kZSddID09PSAyMDApe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHhmemFsZXJ0LmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSk7XG59O1xuXG5cblByb2R1Y3RzQ2F0ZWdvcnkucHJvdG90eXBlLmxpc3RlbkRlbGV0ZUNhdGVnb3J5RXZlbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGRlbGV0ZUJ0biA9ICQoXCIuZGVsZXRlLWJ0blwiKTtcbiAgICBkZWxldGVCdG4uY2xpY2soZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgY3VycmVudEJ0biA9ICQodGhpcyk7XG4gICAgICAgIHZhciB0ciA9IGN1cnJlbnRCdG4ucGFyZW50KCkucGFyZW50KCk7XG4gICAgICAgIHZhciBwayA9IHRyLmF0dHIoJ2RhdGEtcGsnKTtcbiAgICAgICAgc2hvcHBpbmd3ZWJfYWxlcnQuYWxlcnRDb25maXJtKHtcbiAgICAgICAgICAgICd0aXRsZSc6ICfmgqjnoa7lrpropoHliKDpmaTov5nkuKrliIbnsbvlkJfvvJ8nLFxuICAgICAgICAgICAgJ2NvbmZpcm1DYWxsYmFjayc6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBzaG9wcGluZ3dlYl9hamF4LnBvc3Qoe1xuICAgICAgICAgICAgICAgICAgICAndXJsJzogJy9hZG1pbi9kZWxldGVfcHJvZHVjdHNfY2F0ZWdvcnkvJyxcbiAgICAgICAgICAgICAgICAgICAgJ2RhdGEnOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAncGsnOiBwa1xuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAnc3VjY2Vzcyc6IGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKHJlc3VsdFsnY29kZSddID09PSAyMDApe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZWxvYWQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHhmemFsZXJ0LmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSk7XG59O1xuXG4kKGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgY2F0ZWdvcnkgPSBuZXcgUHJvZHVjdHNDYXRlZ29yeSgpO1xuICAgIGNhdGVnb3J5LnJ1bigpO1xufSk7XG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG5cblxuXG4iXX0=
